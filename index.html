<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkers Pizza ‚Äî Order Online</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- ============== HEADER NAV BAR ============== -->
  <header class="top-nav">
    <div class="nav-left">
      <a href="#" class="nav-link active" data-nav="home">ORDER NOW</a>
      <a href="#" class="nav-link" data-nav="menu">MENU</a>
      <a href="#" class="nav-link" data-nav="deals">DEALS</a>
      <a href="#" class="nav-link" data-nav="rewards">MY REWARDS</a>
      <a href="#" class="nav-link" data-nav="tracker">TRACKER</a>
    </div>
    <div class="nav-logo" onclick="goToHome()" style="cursor: pointer;">
      <span class="logo-icon">üçï</span>
      <span class="logo-text">Checkers<br>Pizza</span>
    </div>
    <div class="nav-right">
      <div class="nav-location-pill" id="navLocationPill">
        <span class="nav-location-icon">üìç</span>
        <span id="navLocationText">Choose your location</span>
      </div>
      <div class="nav-delivery-info" id="navDeliveryInfo" style="display:none;">
        <span class="delivery-badge">üïê</span>
        <span id="navDeliveryText"></span>
        <button class="edit-btn" title="Edit">‚úèÔ∏è</button>
      </div>
      <button class="nav-btn sign-in-btn">SIGN IN</button>
      <button class="nav-btn cart-btn" id="cartBtn" onclick="goToStep(6)">
        üõí
        <span class="cart-badge" id="cartBadge" style="display:none;">0</span>
      </button>
    </div>
  </header>

  <!-- ============== STEP 1: ORDER TYPE + MENU HOME ============== -->
  <section class="step" id="step-1">
    <div class="home-page">
      <!-- MENU Headline + Tabs -->
      <div class="menu-header-row">
        <h1 class="menu-main-title">MENU</h1>
        <div class="menu-tabs-home">
          <button class="menu-tab-home active">MENU</button>
          <button class="menu-tab-home">RECENT ITEMS</button>
        </div>
      </div>

      <!-- START YOUR ORDER Banner -->
      <div class="order-type-banner">
        <h2 class="order-banner-title">START YOUR ORDER</h2>
        <div class="order-type-buttons">
          <button class="order-type-btn delivery-btn" onclick="selectOrderType('delivery')">DELIVERY</button>
          <span class="order-type-or">OR</span>
          <button class="order-type-btn carryout-btn" onclick="selectOrderType('carryout')">CARRYOUT</button>
        </div>
      </div>

      <!-- Category Grid -->
      <div class="home-category-grid" id="homeCategoryGrid">
        <!-- Populated by JS -->
      </div>

      <!-- Deals Banner -->
      <div class="home-deals-banner">
        <div class="deal-card">
          <div class="deal-card-icon">üè∑Ô∏è</div>
          <div class="deal-card-text">
            <div class="deal-card-title">MIX & MATCH</div>
            <div class="deal-card-desc">Choose any 2 or more for $6.99 each. Medium pizzas, bread, pasta, and more.</div>
          </div>
          <button class="btn-primary deal-card-btn" onclick="selectOrderType('delivery')">ORDER NOW</button>
        </div>
        <div class="deal-card">
          <div class="deal-card-icon">üéâ</div>
          <div class="deal-card-text">
            <div class="deal-card-title">CARRYOUT SPECIAL</div>
            <div class="deal-card-desc">All medium 1-topping pizzas $5.99 when you pick up in store.</div>
          </div>
          <button class="btn-outline deal-card-btn" onclick="selectOrderType('carryout')">ORDER NOW</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ============== STEP 2: LOCATION ============== -->
  <section class="step" id="step-2" style="display:none;">
    <div class="location-modal">
      <div class="location-header">
        <button class="back-link" onclick="goToStep(1)">‚Äπ</button>
        <h2>Choose Delivery or Carryout</h2>
        <button class="close-btn" onclick="goToStep(1)">‚úï</button>
      </div>
      <div class="location-body">
        <div class="location-left">
          <h3 class="location-question" id="locationQuestion">How do you want your Checkers Pizza today?</h3>

          <!-- Address entry (delivery) -->
          <div id="addressEntry">
            <div class="address-input-group">
              <input type="text" id="addressInput" class="form-input" placeholder="Enter delivery address" />
              <button class="btn-primary" onclick="findStore()">FIND</button>
            </div>
            <p class="field-error" id="addressError" style="display:none;"></p>
          </div>

          <!-- Store result (shown after address entered) -->
          <div id="storeResult" style="display:none;">
            <h2 class="store-address-headline" id="storeAddressDisplay"></h2>
            <p class="store-meta" id="storeCityDisplay"></p>
            <p class="store-meta delivery-estimate" id="storeEstimateDisplay"></p>
            <p class="store-meta" id="storePhoneDisplay"></p>

            <div class="timing-toggle">
              <label>Order Timing</label>
              <div class="toggle-group">
                <button class="toggle-btn active" id="timingNow" onclick="setTiming('now')">Now</button>
                <button class="toggle-btn" id="timingLater" onclick="setTiming('later')">Later</button>
              </div>
            </div>

            <button class="btn-primary btn-full confirm-location-btn" onclick="confirmLocation()">CONFIRM LOCATION</button>
          </div>
        </div>
        <div class="location-right">
          <div class="map-placeholder">
            <div class="map-fake">
              <span>üìç Map</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============== STEP 3: MENU CATEGORIES ============== -->
  <section class="step" id="step-3" style="display:none;">
    <div class="menu-page">
      <h1 class="section-headline menu-headline">MENU</h1>
      <div class="menu-tabs">
        <button class="menu-tab active">MENU</button>
        <button class="menu-tab">RECENT ITEMS</button>
      </div>

      <div class="deals-banner">
        <span class="deals-icon">üè∑Ô∏è</span>
        <span class="deals-text">LOOKING FOR DEALS NEAR YOU?</span>
        <button class="btn-outline">SEE ALL DEALS</button>
      </div>

      <div class="category-grid" id="categoryGrid">
        <!-- Populated by JS -->
      </div>
    </div>
  </section>

  <!-- ============== STEP 4: PIZZA SELECTION ============== -->
  <section class="step" id="step-4" style="display:none;">
    <div class="pizza-list-page">
      <button class="back-to-menu" onclick="goToStep(3)">‚Äπ Back to Menu</button>
      <h1 class="section-headline" id="categoryTitle">SPECIALTY PIZZAS</h1>
      <div class="pizza-grid" id="pizzaGrid">
        <!-- Populated by JS -->
      </div>
    </div>
  </section>

  <!-- ============== STEP 5: CUSTOMIZE PIZZA ============== -->
  <section class="step" id="step-5" style="display:none;">
    <div class="customize-page">
      <div class="customize-header">
        <h1 class="pizza-name-headline" id="customizePizzaName"></h1>
        <button class="btn-primary add-to-cart-top" onclick="addToCart()">ADD TO CART</button>
      </div>
      <div class="customize-hero">
        <p class="pizza-description" id="customizePizzaDesc"></p>
        <div class="hero-image-wrap">
          <img id="customizePizzaImg" src="" alt="" class="customize-hero-img" />
        </div>
      </div>

      <div class="customize-body">
        <div class="customize-left">
          <div class="customize-pizza-thumb">
            <img id="customizeThumb" src="" alt="" />
            <h3 id="customizeThumbName"></h3>
          </div>
        </div>
        <div class="customize-right">
          <!-- Quantity -->
          <div class="option-section">
            <h3 class="option-heading">QUANTITY</h3>
            <div class="quantity-control">
              <button class="qty-btn" onclick="changeQuantity(-1)">‚àí</button>
              <span class="qty-value" id="qtyValue">1</span>
              <button class="qty-btn qty-plus" onclick="changeQuantity(1)">+</button>
            </div>
          </div>

          <!-- Crusts -->
          <div class="option-section">
            <h3 class="option-heading">CRUSTS</h3>
            <div class="crust-options" id="crustOptions">
              <!-- Populated by JS -->
            </div>
          </div>

          <!-- Size -->
          <div class="option-section">
            <h3 class="option-heading">SIZE</h3>
            <div class="size-options" id="sizeOptions">
              <!-- Populated by JS -->
            </div>
          </div>

          <!-- Toppings -->
          <div class="option-section">
            <h3 class="option-heading">TOPPINGS</h3>
            <div class="topping-grid" id="toppingGrid">
              <!-- Populated by JS -->
            </div>
          </div>
        </div>
      </div>

      <div class="customize-footer">
        <button class="btn-primary btn-full" onclick="addToCart()">ADD TO CART</button>
      </div>
    </div>
  </section>

  <!-- ============== STEP 6: CART ============== -->
  <section class="step" id="step-6" style="display:none;">
    <div class="cart-page">
      <div class="cart-header">
        <button class="back-link" onclick="goToStep(3)">‚Äπ</button>
        <h2>Cart</h2>
        <button class="close-btn" onclick="goToStep(3)">‚úï</button>
      </div>

      <div class="cart-body">
        <div class="cart-subtotal-bar">
          <span class="subtotal-label">SUBTOTAL <span class="subtotal-note">(taxes/fees not included)</span></span>
          <span class="subtotal-amount" id="cartSubtotal">$0.00</span>
        </div>

        <!-- Step 1: Confirm selections -->
        <div class="cart-section">
          <div class="cart-step-badge">STEP 1</div>
          <h3 class="cart-step-title">CONFIRM YOUR SELECTIONS</h3>
          <div id="cartItems">
            <!-- Populated by JS -->
          </div>
        </div>

        <!-- Step 2: Sides upsell -->
        <div class="cart-section">
          <div class="cart-step-badge">STEP 2</div>
          <h3 class="cart-step-title">CHOOSE YOUR SIDES</h3>
          <div class="sides-grid" id="sidesGrid">
            <!-- Populated by JS -->
          </div>
        </div>

        <button class="btn-primary btn-full" onclick="proceedToCheckout()">PROCEED TO CHECKOUT</button>
        <p class="field-error" id="cartError" style="display:none;"></p>
      </div>
    </div>
  </section>

  <!-- ============== STEP 7: CHECKOUT ============== -->
  <section class="step" id="step-7" style="display:none;">
    <div class="checkout-page">
      <div class="checkout-header">
        <button class="back-link" onclick="goToStep(6)">‚Äπ Return to cart</button>
        <div class="nav-logo small">
          <span class="logo-icon">üçï</span>
          <span class="logo-text">Checkers<br>Pizza</span>
        </div>
        <button class="nav-btn sign-in-btn">SIGN IN</button>
      </div>

      <h1 class="section-headline checkout-headline">CHECKOUT</h1>

      <div class="checkout-body">
        <div class="checkout-left">
          <!-- Delivery Instructions -->
          <div class="checkout-section">
            <h3 class="checkout-section-title">DELIVERY INSTRUCTIONS</h3>
            <label class="checkbox-label">
              <input type="checkbox" id="leaveAtDoor" onchange="updateCheckoutState()" />
              Leave it at the door
            </label>
            <textarea id="deliveryInstructions" class="form-textarea" placeholder="Additional Delivery Instructions (Optional)" onchange="updateCheckoutState()"></textarea>
          </div>

          <!-- Contact Information -->
          <div class="checkout-section">
            <h3 class="checkout-section-title">CONTACT INFORMATION</h3>
            <p class="required-note">All fields marked with an asterisk (*) are required.</p>
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">First Name *</label>
                <input type="text" id="firstName" class="form-input" onchange="updateCheckoutState()" />
                <p class="field-error" id="firstNameError" style="display:none;"></p>
              </div>
              <div class="form-group">
                <label for="lastName">Last Name *</label>
                <input type="text" id="lastName" class="form-input" onchange="updateCheckoutState()" />
                <p class="field-error" id="lastNameError" style="display:none;"></p>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="phone">Phone *</label>
                <input type="tel" id="phone" class="form-input" onchange="updateCheckoutState()" />
                <p class="field-error" id="phoneError" style="display:none;"></p>
              </div>
              <div class="form-group">
                <label for="email">Email *</label>
                <input type="email" id="email" class="form-input" onchange="updateCheckoutState()" />
                <p class="field-error" id="emailError" style="display:none;"></p>
              </div>
            </div>
          </div>
        </div>

        <!-- Order Summary Sidebar -->
        <div class="checkout-right">
          <div class="order-summary-card">
            <h3 class="summary-title">YOUR ORDER</h3>
            <div class="summary-item-count" id="summaryItemCount">0 Items</div>
            <div class="summary-items" id="summaryItems">
              <!-- Populated by JS -->
            </div>
            <div class="summary-line">
              <span>Food And Beverage</span>
              <span id="summarySubtotal">$0.00</span>
            </div>
            <div class="summary-line">
              <span>Delivery Fee</span>
              <span id="summaryDeliveryFee">$5.99</span>
            </div>
            <div class="summary-line">
              <span>Tax</span>
              <span id="summaryTax">$0.00</span>
            </div>
            <div class="summary-line summary-total">
              <span>Total</span>
              <span id="summaryTotal">$0.00</span>
            </div>
            <button class="btn-primary btn-full place-order-btn" onclick="placeOrder()">
              PLACE ORDER - <span id="placeOrderTotal">$0.00</span>
            </button>
            <p class="field-error" id="checkoutError" style="display:none;"></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============== STEP 8: ORDER CONFIRMATION ============== -->
  <section class="step" id="step-8" style="display:none;">
    <div class="confirmation-page">
      <div class="confirmation-icon">‚úÖ</div>
      <h1 class="section-headline">Order Confirmed!</h1>
      <p class="confirmation-order-number" id="confirmOrderNumber">Order #CP-00000</p>
      <p class="confirmation-estimate" id="confirmEstimate">Estimated delivery: 20-35 minutes</p>

      <div class="confirmation-summary" id="confirmSummary">
        <!-- Populated by JS -->
      </div>

      <div class="confirmation-actions">
        <button class="btn-outline" disabled>TRACK YOUR ORDER</button>
        <button class="btn-primary" onclick="startNewOrder()">START NEW ORDER</button>
      </div>
    </div>
  </section>

  <!-- Scripts -->
  <script src="js/menu-data.js"></script>
  <script src="js/app.js"></script>
  <script src="js/webmcp-shim.js"></script>
  <script src="js/webmcp-tools.js"></script>

</body>
</html>
